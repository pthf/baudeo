-- MySQL Script generated by MySQL Workbench
-- 06/28/16 13:04:26
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema baudeo
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema baudeo
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `baudeo` DEFAULT CHARACTER SET utf8 ;
USE `baudeo` ;

-- -----------------------------------------------------
-- Table `baudeo`.`galleryrelationservices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`galleryrelationservices` (
  `idGalleryRelation` INT NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`idGalleryRelation`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`services`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`services` (
  `idService` INT NOT NULL AUTO_INCREMENT,
  `nameService` VARCHAR(45) NOT NULL,
  `titleService` VARCHAR(85) NOT NULL,
  `descriptionService` VARCHAR(245) NOT NULL,
  `salientService` TINYINT(1) NOT NULL,
  `idGalleryRelation` INT NOT NULL,
  PRIMARY KEY (`idService`),
  INDEX `fk_services_galleryRelation_idx` (`idGalleryRelation` ASC),
  CONSTRAINT `fk_services_galleryRelation`
    FOREIGN KEY (`idGalleryRelation`)
    REFERENCES `baudeo`.`galleryrelationservices` (`idGalleryRelation`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`imagegalleryservices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`imagegalleryservices` (
  `idImageGallery` INT NOT NULL AUTO_INCREMENT,
  `imageGallery` VARCHAR(245) NOT NULL,
  `idGalleryRelation` INT NOT NULL,
  PRIMARY KEY (`idImageGallery`, `idGalleryRelation`),
  INDEX `fk_imageGallery_galleryRelation1_idx` (`idGalleryRelation` ASC),
  CONSTRAINT `fk_imageGallery_galleryRelation1`
    FOREIGN KEY (`idGalleryRelation`)
    REFERENCES `baudeo`.`galleryrelationservices` (`idGalleryRelation`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`category` (
  `idCategory` INT NOT NULL AUTO_INCREMENT,
  `nameCategory` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCategory`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`galleryrelationproject`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`galleryrelationproject` (
  `idGalleryRelation` INT NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`idGalleryRelation`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`project`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`project` (
  `idProject` INT NOT NULL AUTO_INCREMENT,
  `titleProject` VARCHAR(245) NOT NULL,
  `descriptionProject` VARCHAR(545) NOT NULL,
  `idGalleryRelation` INT NOT NULL,
  PRIMARY KEY (`idProject`),
  INDEX `fk_project_galleryrelationproject1_idx` (`idGalleryRelation` ASC),
  CONSTRAINT `fk_project_galleryrelationproject1`
    FOREIGN KEY (`idGalleryRelation`)
    REFERENCES `baudeo`.`galleryrelationproject` (`idGalleryRelation`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`project_has_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`project_has_category` (
  `idProject` INT NOT NULL,
  `idCategory` INT NOT NULL,
  PRIMARY KEY (`idProject`, `idCategory`),
  INDEX `fk_project_has_category_category1_idx` (`idCategory` ASC),
  INDEX `fk_project_has_category_project1_idx` (`idProject` ASC),
  CONSTRAINT `fk_project_has_category_project1`
    FOREIGN KEY (`idProject`)
    REFERENCES `baudeo`.`project` (`idProject`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_project_has_category_category1`
    FOREIGN KEY (`idCategory`)
    REFERENCES `baudeo`.`category` (`idCategory`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`imagegalleryproject`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`imagegalleryproject` (
  `idImageGallery` INT NOT NULL AUTO_INCREMENT,
  `imageGallery` VARCHAR(245) NOT NULL,
  `idGalleryRelation` INT NOT NULL,
  PRIMARY KEY (`idImageGallery`),
  INDEX `fk_imagegalleryproject_galleryrelationproject1_idx` (`idGalleryRelation` ASC),
  CONSTRAINT `fk_imagegalleryproject_galleryrelationproject1`
    FOREIGN KEY (`idGalleryRelation`)
    REFERENCES `baudeo`.`galleryrelationproject` (`idGalleryRelation`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baudeo`.`adminuser`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`adminuser` (
  `idAdminUser` INT NOT NULL,
  `adminName` VARCHAR(245) NOT NULL,
  `adminPassword` VARCHAR(45) NOT NULL,
  `adminLastConnection` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idAdminUser`))
ENGINE = InnoDB;

USE `baudeo` ;

-- -----------------------------------------------------
-- Placeholder table for view `baudeo`.`view1`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `baudeo`.`view1` (`id` INT);

-- -----------------------------------------------------
-- View `baudeo`.`view1`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baudeo`.`view1`;
USE `baudeo`;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
